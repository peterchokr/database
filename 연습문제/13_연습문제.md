# Ch13 정규화와 데이터베이스 설계 - 연습문제

학생 여러분! 13장을 완료한 후 다음 연습문제를 통해 개념을 확인해보세요.
각 섹션의 난이도를 확인하고 단계별로 공부하시면 됩니다.

---

## 📌 학습 목표 확인

13장을 마친 후 다음을 이해해야 합니다:
- 정규화의 개념과 목표
- 이상 현상(Anomaly) 식별 및 해결
- 함수 종속성(Functional Dependency)
- 1차~3차 정규형, BCNF
- ER 다이어그램 작성
- 데이터베이스 설계 프로세스
- 외래키와 관계 무결성

---

# 객관식 문제 (10개)

## 초급 수준 (5개) - 기본 개념 확인

**1번** 정규화의 주요 목적은?
- ① 데이터베이스 크기 증가
- ② 데이터 중복 최소화 및 이상 현상 제거
- ③ 조회 속도 빠르게 하기
- ④ 프로그래밍 언어 통일

---

**2번** 이상 현상(Anomaly)의 종류로 옳지 않은 것은?
- ① 삽입 이상 (Insertion Anomaly)
- ② 수정 이상 (Update Anomaly)
- ③ 삭제 이상 (Deletion Anomaly)
- ④ 처리 이상 (Processing Anomaly)

---

**3번** 1차 정규형(1NF)의 조건은?
- ① 모든 속성이 원자값 (Atomic Value)
- ② 부분 함수 종속 제거
- ③ 이행 함수 종속 제거
- ④ 슈퍼키 정의

---

**4번** ER 다이어그램의 기본 요소로 옳지 않은 것은?
- ① 엔티티 (Entity)
- ② 속성 (Attribute)
- ③ 관계 (Relationship)
- ④ 함수 (Function)

---

**5번** 1:N (일대다) 관계의 예시는?
- ① 학생과 학번
- ② 교수와 강의
- ③ 부서와 부서명
- ④ 직원과 주민등록번호

---

## 중급 수준 (3개) - 개념 적용

**6번** 다음 중 2차 정규형(2NF) 위반은?

```
수강 (학번, 강의번호, 강의명, 성적)
```

- ① 강의명이 강의번호에만 종속
- ② 성적이 학번과 강의번호에 종속
- ③ 학번이 주요 속성
- ④ 강의번호가 주요 속성

---

**7번** 3차 정규형(3NF)의 조건으로 옳은 것은?

- ① 2NF를 만족
- ② 모든 비주요 속성이 기본키에 이행적으로 함수 종속하지 않음
- ③ ①과 ② 모두
- ④ 슈퍼키에만 종속

---

**8번** 외래키(Foreign Key)의 목적은?
- ① 데이터 암호화
- ② 테이블 간 관계 정의 및 참조 무결성 보장
- ③ 쿼리 속도 향상
- ④ 데이터 복제

---

## 고급 수준 (2개) - 비판적 사고

**9번** 정규화와 비정규화의 상황은?
- ① 항상 정규화만 사용
- ② 정규화는 이론, 비정규화는 실무
- ③ 정규화로 설계하되, 성능 필요 시 비정규화 고려
- ④ 상황에 관계없이 비정규화 사용

---

**10번** 함수 종속성 X → Y의 의미는?
- ① X가 Y에 종속
- ② Y가 X에 종속
- ③ X가 결정되면 Y도 유일하게 결정됨
- ④ X와 Y의 관계 불명

---

# 주관식 문제 (5개)

## 초급 수준 (3개)

**11번** 정규화의 정의와 이상 현상(삽입, 수정, 삭제 이상)을 설명하시오.

---

**12번** 1차 정규형(1NF), 2차 정규형(2NF), 3차 정규형(3NF)의 조건을 각각 설명하시오.

---

**13번** ER 다이어그램의 기본 요소(엔티티, 속성, 관계)와 카디널리티(1:1, 1:N, M:N)를 설명하시오.

---

## 중급 수준 (1개)

**14번** 함수 종속성(Functional Dependency)과 완전 함수 종속, 부분 함수 종속, 이행 함수 종속을 설명하고 예시하시오.

---

## 고급 수준 (1개)

**15번** 데이터베이스 설계 프로세스(요구사항 분석 → 개념적 설계 → 논리적 설계 → 물리적 설계 → 구현)를 설명하고, 정규화가 어느 단계에서 적용되는지 설명하시오.

---

# 실습형 문제 (5개)

## 초급 수준 (2개)

**16번** 다음 비정규형 데이터를 1NF로 변환하시오.

```
문제 데이터 (전화번호가 복합값):
학생 (학번, 이름, 전화번호)
001, 김철수, 02-123-4567 / 010-1111-2222
002, 이영희, 031-456-7890 / 010-2222-3333

요구사항:
1. 비정규형 문제점 설명
2. 1NF로 변환한 테이블 설계
3. CREATE TABLE 문으로 구현
4. 데이터 삽입
```

제출: 변환 과정 설명 및 1NF 테이블 SQL

---

**17번** 다음 1NF 데이터를 2NF로 변환하시오.

```
문제 데이터 (부분 함수 종속):
수강 (학번, 강의번호, 강의명, 학점, 성적)
001, CS101, 자료구조, 3, A
001, CS102, 알고리즘, 4, B

문제: 강의명, 학점은 강의번호에만 종속 (학번+강의번호 아님)

요구사항:
1. 부분 함수 종속 설명
2. 2NF로 변환 (테이블 분리)
3. 외래키 설정
4. 데이터 삽입
```

제출: 2NF 테이블 구조 및 SQL

---

## 중급 수준 (2개)

**18번** 다음 2NF 데이터를 3NF로 변환하시오.

```
문제 데이터 (이행 함수 종속):
학생 (학번, 이름, 학과, 학과사무실)
001, 김철수, 컴퓨터공학, 301호
002, 이영희, 컴퓨터공학, 301호
003, 박민준, 전자공학, 302호

문제: 학과사무실은 학과에 종속 (학번에는 직접 종속 아님)
      학번 → 학과 → 학과사무실 (이행 함수 종속)

요구사항:
1. 이행 함수 종속 설명
2. 3NF로 변환 (테이블 분리)
3. 외래키 정의
4. 전체 데이터 삽입
5. 정규화 후 이점 확인
```

제출: 3NF 테이블 구조, SQL, 정규화 효과 분석

---

**19번** 온라인 쇼핑몰 데이터베이스를 ER 다이어그램으로 설계하고 구현하시오.

```
요구사항:
1. ER 다이어그램 설계
   - 엔티티: Customers, Products, Categories, Orders, OrderDetails
   - 관계: 
     * Customer 1:N Orders
     * Order 1:N OrderDetails
     * Product M:N Orders (OrderDetails 연결)
     * Category 1:N Products

2. 테이블 생성 (3NF 적용)
   - Customers
   - Categories
   - Products (FK: category_id)
   - Orders (FK: customer_id)
   - OrderDetails (FK: order_id, product_id)

3. 샘플 데이터 삽입
   - 고객 2명
   - 카테고리 2개
   - 상품 3개
   - 주문 2건
   - 주문 상세 3개

4. 관계 확인 쿼리
   - JOIN으로 고객별 주문 내역
   - 카테고리별 상품 조회
```

제출: ER 다이어그램 설명, SQL 코드, 실행 결과

---

## 고급 수준 (1개)

**20번** 다음의 복잡한 데이터베이스 설계를 수행하시오.

```
요구사항:
1. 대학 학사 관리 시스템 설계
   - 엔티티: Students, Professors, Departments, Courses, Enrollments
   - 요구사항:
     * 학생은 한 학과에만 속함 (1:N)
     * 교수는 여러 강의 담당 (1:N)
     * 강의는 한 교수만 담당 (1:1)
     * 강의는 학과 소속 (1:N)
     * 학생은 여러 강의 수강 (M:N)

2. 정규화 적용
   - 각 엔티티 3NF 이상 적용
   - 함수 종속성 분석
   - 이상 현상 제거

3. 데이터 무결성 설정
   - 기본키 정의
   - 외래키 제약
   - 데이터 검증 규칙

4. 샘플 데이터 및 쿼리
   - 학과별 학생 수
   - 교수별 담당 강의
   - 학생별 수강 강의

제출:
   - ER 다이어그램 설명
   - 정규화 분석 (1NF → 3NF 과정)
   - 전체 SQL 코드
   - 샘플 데이터 및 검증 쿼리
```

---

---

# 📋 정답 및 모범 답안

## 객관식 정답 (10개)

| 문제 | 정답 | 해설 |
|:---:|:---:|:---|
| 1번 | ② | 정규화는 중복 제거와 이상 현상 제거 |
| 2번 | ④ | 처리 이상은 정규화 이상이 아님 |
| 3번 | ① | 1NF는 원자값 조건 |
| 4번 | ④ | 함수는 ER 요소가 아님 |
| 5번 | ② | 한 교수는 여러 강의 담당 |
| 6번 | ① | 강의명이 강의번호에만 종속 = 2NF 위반 |
| 7번 | ③ | ①과 ② 모두 조건 |
| 8번 | ② | 외래키는 관계 정의 및 참조 무결성 |
| 9번 | ③ | 정규화 후 필요시 비정규화 |
| 10번 | ③ | X 결정 시 Y도 결정 |

---

## 주관식 모범 답안 (5개)

### 11번 정규화와 이상 현상

**모범 답안**:
```
정규화 (Normalization):
- 데이터베이스 이상 현상을 제거하고 데이터 무결성을 보장하기 위해
  테이블을 체계적으로 분해하는 과정

목표:
- 데이터 중복 최소화
- 이상 현상 제거
- 데이터 일관성 유지

이상 현상:

1. 삽입 이상 (Insertion Anomaly)
   - 새로운 데이터 삽입 시 불필요한 정보도 함께 입력해야 함
   예: 아직 강의를 담당하지 않는 교수를 등록할 수 없음

2. 수정 이상 (Update Anomaly)
   - 데이터 수정 시 같은 정보를 여러 곳에서 수정해야 함
   예: 교수 이름 변경 시 여러 강의 레코드를 모두 수정해야 함
   결과: 일부만 수정되면 데이터 불일치

3. 삭제 이상 (Deletion Anomaly)
   - 필요한 데이터를 삭제할 때 원하지 않는 정보까지 함께 삭제됨
   예: 유일한 강의를 삭제하면 교수 정보도 사라짐
```

---

### 12번 정규형 조건

**모범 답안**:
```
1차 정규형 (1NF):
조건:
- 모든 속성의 값이 원자값(Atomic Value, 더 이상 분해 불가)
- 같은 속성값이 반복되지 않음

예:
❌ 비정규형:
학생(학번, 전화번호: [02-123, 010-111])

✅ 1NF:
학생(학번, 전화번호, 구분)
001, 02-123, 집
001, 010-111, 휴대폰

2차 정규형 (2NF):
조건:
- 1NF를 만족
- 모든 비주요 속성이 기본키 전체에 완전 함수 종속
  (복합키에서 일부에만 종속하지 않음)

예:
❌ 2NF 위반:
수강(학번, 강의번호, 강의명, 성적)
문제: 강의명은 강의번호에만 종속

✅ 2NF:
수강(학번, 강의번호, 성적)
강의(강의번호, 강의명)

3차 정규형 (3NF):
조건:
- 2NF를 만족
- 모든 비주요 속성이 기본키에 이행적으로 종속하지 않음
  (X → Y, Y → Z이면 X를 통한 간접 종속 제거)

예:
❌ 3NF 위반:
학생(학번, 학과, 학과사무실)
문제: 학과사무실은 학과에 종속 (학번 → 학과 → 사무실)

✅ 3NF:
학생(학번, 학과)
학과(학과, 학과사무실)
```

---

### 13번 ER 다이어그램 요소와 카디널리티

**모범 답안**:
```
기본 요소:

1. 엔티티 (Entity)
   - 정의: 정보를 저장할 대상
   - ER 다이어그램: 직사각형으로 표현
   - 예: 학생, 강의, 교수

2. 속성 (Attribute)
   - 정의: 엔티티의 특성
   - ER 다이어그램: 타원으로 표현
   - 예: 학번, 학생명, 학과

3. 관계 (Relationship)
   - 정의: 엔티티 간의 연관
   - ER 다이어그램: 마름모로 표현
   - 예: "학생은 강의를 수강한다"

카디널리티 (Cardinality):

1:1 (일대일)
예: 학생과 학번
- 한 명의 학생은 정확히 하나의 학번
- 한 학번은 정확히 한 명의 학생

1:N (일대다)
예: 교수와 강의
- 한 명의 교수는 여러 강의 담당 가능
- 각 강의는 한 명의 교수만 담당

M:N (다대다)
예: 학생과 강의
- 한 학생은 여러 강의 수강 가능
- 한 강의는 여러 학생 수강 가능
- 중간 테이블(수강) 필요
```

---

### 14번 함수 종속성

**모범 답안**:
```
함수 종속성 (Functional Dependency):
- 표기: X → Y (X가 결정되면 Y도 유일하게 결정)
- 의미: X의 값에 따라 Y의 값이 결정됨

유형:

1. 완전 함수 종속 (Complete FD)
   - Y가 X 전체에 종속
   - X의 일부에는 종속하지 않음
   예: (학번, 강의번호) → 성적
        성적은 학번과 강의번호 둘 다 필요

2. 부분 함수 종속 (Partial FD)
   - Y가 X의 일부에만 종속 ⚠️ 2NF 위반
   예: (학번, 강의번호) → 강의명
        강의명은 강의번호에만 종속 (학번 불필요)

3. 이행 함수 종속 (Transitive FD)
   - X → Y, Y → Z이면 X → Z ⚠️ 3NF 위반
   예: 학번 → 학과 → 학과사무실
        학번을 통해 학과사무실 결정 (간접)

정규형별 처리:
- 1NF: 원자값만
- 2NF: 부분 함수 종속 제거
- 3NF: 이행 함수 종속 제거
```

---

### 15번 설계 프로세스와 정규화

**모범 답안**:
```
데이터베이스 설계 프로세스 (5단계):

1단계: 요구사항 분석
- 비즈니스 요구사항 파악
- 데이터 수집
- 사용자 인터뷰

2단계: 개념적 설계
- ER 다이어그램 작성
- 엔티티와 관계 정의
- 논리적 구조 설계

3단계: 논리적 설계 ← 정규화 적용!
- 정규화 단계별 적용 (1NF → 3NF 이상)
- 함수 종속성 분석
- 테이블 구조 최종 결정

4단계: 물리적 설계
- 저장소 구조 결정
- 인덱스 설계
- 성능 최적화 (필요시 비정규화)

5단계: 구현 및 검증
- DDL로 테이블 생성
- 데이터 무결성 검증
- 제약조건 설정

정규화의 역할:
✅ 논리적 설계 단계에서 적용
✅ 이상 현상 제거
✅ 데이터 일관성 보장
✅ 저장 공간 효율성

예:
비정규형 → 1NF → 2NF → 3NF → BCNF
```

---

## 실습형 모범 답안 (5개)

### 16번 1NF 변환

**완료 기준**:
✅ 비정규형 문제점 설명 (복합값)
✅ 1NF로 변환 (원자값만)
✅ 테이블 분리 (phone_numbers)

---

### 17번 2NF 변환

**완료 기준**:
✅ 부분 함수 종속 식별
✅ 테이블 분리 (enrollments, courses)
✅ 외래키 정의

---

### 18번 3NF 변환

**완료 기준**:
✅ 이행 함수 종속 식별
✅ 테이블 분리 (students, departments)
✅ 정규화 효과 분석

---

### 19번 ER 다이어그램 구현

**완료 기준**:
✅ 5개 테이블 구조 정의
✅ 외래키 관계 설정
✅ 샘플 데이터 삽입
✅ JOIN 쿼리 실행

---

### 20번 복잡한 설계

**완료 기준**:
✅ 5개 엔티티 ER 다이어그램
✅ 정규화 단계별 분석
✅ 모든 제약조건 적용
✅ 검증 쿼리 작성

---

조정현 교수 (peterchokr@gmail.com)
